<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Larong Pinoy: Teks Apiran Game </title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<!-- ========== SCREEN 1: INTRO SCREEN ========== -->
<div id="intro-screen">
  <div class="falling-cards">
    <div class="card-fall card1"></div>
    <div class="card-fall card2"></div>
    <div class="card-fall card3"></div>
    <div class="card-fall card4"></div>
    <div class="card-fall card5"></div>
  </div>
  <div class="intro-content">
    <div class="play-btn-container">
      <div class="play-btn" onclick="playSound('click'); showMenu();">
        <div class="play-icon"></div>
      </div>
    </div>
    <h1 class="intro-title"><i class="fas fa-gamepad"></i> Teks Apiran Game</h1>
    <div class="intro-text">
      <strong><em>Welcome to Larong Pinoy!</em></strong><br>
      <div class="info-icon" onclick="showSoundTip()"><i class="fas fa-info-circle"></i></div>
      <div class="game-description">
      Teks is a classic Filipino street game. In Apiran, two players slap their teks cards
      and let them fall. <br> The card that lands face up wins!</div>
    </div>
  </div>
</div>

<!-- ========== MECHANICS POPUP ========== -->
<div id="mechanicsBox">
  <div class="popup-content">
    <h2><i class="fas fa-clipboard-list"></i> Game Mechanics</h2>
    <ol>
      <li><strong>Player Setup:</strong> Each player enters their name and selects a character icon for their profile.</li>
      <li><strong>Card Selection:</strong> Choose a character/icon for the face of your card.</li>
      <li><strong>Card Back:</strong> Select a character/icon for the back of both cards.</li>
      <li><strong>Start Tossing:</strong> Click "Start Game" to begin playing.</li>
      <li><strong>Winning:</strong> The card that lands face up wins the round. One point is awarded to that player.</li>
      <li><strong>Draw Rule:</strong> If both cards land the same way (both face up or both face down), it's a draw and the toss is repeated without counting.</li>
      <li><strong>Victory Condition:</strong>The player with the highest score after five tosses wins the game!</li>
      <li><strong>Track Progress:</strong> Watch the scoreboard and progress bar to see who's ahead.</li>
    </ol>
    <button class="close-btn" onclick="playSound('click'); closeMechanics();">Got It!</button>
  </div>
</div>

<!-- ========== HISTORY POPUP ========== -->
<div id="historyBox">
  <div class="popup-content">
    <h2><i class="fas fa-book"></i> Cultural History</h2>
    <p><strong>What is Teks?</strong></p>
    <p>Teks (also called "text" or "game cards") is a beloved Filipino street game that has been played by children across the Philippines for generations. These collectible cards featured popular characters from anime, cartoons, and comics.</p>
   
    <p><strong>The Apiran Style</strong></p>
    <p>"Apiran" comes from the Filipino word "apir" (high-five). In this variant, players slap their cards together, creating an exciting moment of anticipation as they watch them fall. The outcome depends on how the cards land!</p>
   
    <p><strong>Cultural Significance</strong></p>
    <p>Teks represents more than just a game—it's a piece of Filipino childhood nostalgia. It taught kids about fair play, strategy, and social interaction. Trading cards and challenging friends were important parts of growing up in the Philippines.</p>
   
    <p><strong>Modern Revival</strong></p>
    <p>While physical teks cards are less common today, the game lives on in digital formats like this one, preserving Filipino culture for new generations to enjoy!</p>
   
    <button class="close-btn" onclick="playSound('click'); closeHistory();">Close</button>
  </div>
</div>

<!-- ========== STATS POPUP ========== -->
<div id="statsBox">
  <div class="popup-content">
    <h2><i class="fas fa-chart-bar"></i> Game Statistics</h2>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Total Games</div>
        <div class="stat-value" id="totalGames">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Player 1 Wins</div>
        <div class="stat-value" id="p1TotalWins">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Player 2 Wins</div>
        <div class="stat-value" id="p2TotalWins">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Current Streak</div>
        <div class="stat-value" id="currentStreak">0</div>
      </div>
    </div>
    <button class="close-btn" onclick="playSound('click'); closeStats();">Close</button>
  </div>
</div>

<!-- ========== DEVELOPERS POPUP ========== -->
<div id="developersBox" style="display: none;">
  <div class="popup-content developers-popup">
    <h2><i class="fas fa-users-cog"></i> Developers</h2>
    <p class="dev-intro">Meet the team behind Larong Pinoy: Teks Apiran Game</p>
    
    <div class="developers-grid">
      <!-- Developer 1 -->
      <div class="developer-card">
        <div class="dev-image-container">
          <img src="./developer1.jpg" alt="Developer 1" class="dev-image" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22%3E%3Crect fill=%22%23667eea%22 width=%22200%22 height=%22200%22/%3E%3Ctext fill=%22white%22 font-size=%2260%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3EP1%3C/text%3E%3C/svg%3E'">
        </div>
        <div class="dev-info">
          <h3 class="dev-name">Daisy Mae Lascuña</h3>
          <p class="dev-role"><i class="fas fa-code"></i> Lead Developer & UI/UX Designer</p>
          <p class="dev-description">
            Led the overall development of the Teks Apiran Game project, focusing on system architecture 
            and user interface design. Responsible for creating the game's visual identity, implementing 
            the responsive layout, and ensuring seamless user experience across all devices. Developed 
            the card animation system and integrated cultural elements into the game design.
          </p>
          <div class="dev-links">
            <a href="https://github.com/daiszemi16" target="_blank" class="dev-link" title="GitHub Profile">
              <i class="fab fa-github"></i> GitHub
            </a>
            <a href="https://www.facebook.com/daisy.crujedo" target="_blank" class="dev-link" title="Facebook Profile">
              <i class="fab fa-facebook"></i> Facebook
            </a>
          </div>
        </div>
      </div>

      <!-- Developer 2 -->
      <div class="developer-card">
        <div class="dev-image-container">
          <img src="./developer2.jpg" alt="Developer 2" class="dev-image" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22%3E%3Crect fill=%22%23764ba2%22 width=%22200%22 height=%22200%22/%3E%3Ctext fill=%22white%22 font-size=%2260%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3EP2%3C/text%3E%3C/svg%3E'">
        </div>
        <div class="dev-info">
          <h3 class="dev-name">Juliana Bless Eltagonde</h3>
          <p class="dev-role"><i class="fas fa-laptop-code"></i> Front-End Developer & Game Logic Engineer</p>
          <p class="dev-description">
            Specialized in implementing the core game mechanics and interactive features. Developed the 
            card tossing algorithm, scoring system, and real-time game state management. Handled file 
            upload functionality, drag-and-drop image integration, and statistics tracking. Optimized 
            game performance and ensured smooth animations throughout the gameplay experience.
          </p>
          <div class="dev-links">
            <a href="https://github.com/julieee16" target="_blank" class="dev-link" title="GitHub Profile">
              <i class="fab fa-github"></i> GitHub
            </a>
            <a href="https://www.facebook.com/juliana.eltagonde.2025" target="_blank" class="dev-link" title="Facebook Profile">
              <i class="fab fa-facebook"></i> Facebook
            </a>
          </div>
        </div>
      </div>
    </div>

    <button class="close-btn" onclick="playSound('click'); closeDevelopers();">Close</button>
  </div>
</div>

<!-- ========== SOUND TIP POPUP ========== -->
<div id="soundTipBox" style="display: none;">
  <div class="popup-content">
    <h2><i class="fas fa-volume-up"></i> Sound Tip</h2>
    <p>Best experience with sound on!</p>
    <button class="close-btn" onclick="playSound('click'); closeSoundTip();">Got It!</button>
  </div>
</div>

<!-- ========== BACK TO SETUP CONFIRMATION POPUP ========== -->
<div id="backToSetupBox" style="display: none;">
  <div class="popup-content">
    <h2><i class="fas fa-exclamation-triangle"></i> Confirm Action</h2>
    <p>Are you sure you want to return to setup? Current game progress will be lost.</p>
    <div class="confirmation-buttons">
      <button class="confirm-btn yes-btn" onclick="playSound('click'); backToSetup();">Yes</button>
      <button class="confirm-btn no-btn" onclick="playSound('click'); closeBackToSetupConfirmation();">No</button>
    </div>
  </div>
</div>

<!-- ========== SCREEN 2: MENU SCREEN ========== -->
<div id="menu-screen">
  <div class="menu-box">
    <h1 class="menu-title"><i class="fas fa-gamepad"></i> Main Menu</h1>
    <button class="menu-btn" onclick="playSound('click'); showSetupPage()"><i class="fas fa-play-circle"></i> Start Game</button>
    <button class="menu-btn" onclick="playSound('click'); showMechanics()"><i class="fas fa-clipboard-list"></i> Mechanics</button>
    <button class="menu-btn" onclick="playSound('click'); showHistory()"><i class="fas fa-book"></i> History & Culture</button>
    <button class="menu-btn" onclick="playSound('click'); showStats()"><i class="fas fa-chart-bar"></i> Statistics</button>
    <button class="menu-btn" onclick="playSound('click'); showDevelopers()"><i class="fas fa-users-cog"></i> Developers</button>
    <button class="menu-btn" onclick="playSound('click'); backToFront()"><i class="fas fa-arrow-left"></i> Back to Start</button>
  </div>
</div>

<!-- ========== SCREEN 3: SETUP PAGE ========== -->
<div id="setup-page" style="display:none;">
  <button class="back-to-menu control-btn" onclick="playSound('click'); backToMenuFromSetup()"><i class="fas fa-arrow-left"></i> Back to Menu</button>
  
  <h1 class="page-title"><i class="fas fa-cog"></i> Game Setup</h1>

  <div class="setup-container">
    <div class="selection">
      <h2><i class="fas fa-users"></i> Player Setup</h2>
     
      <div class="selection-grid">
        <div class="selection-item">
          <label>Player 1 Name:</label>
          <input type="text" id="p1-name" placeholder="Enter name" value="Player 1" maxlength="15">
        </div>
        <div class="selection-item">
          <label>Player 2 Name:</label>
          <input type="text" id="p2-name" placeholder="Enter name" value="Player 2" maxlength="15">
        </div>
      </div>

      <h2><i class="fas fa-user-circle"></i> Choose Player Icons</h2>
     
      <div class="player-icons-container">
        <div class="player-section">
          <h3>Player 1</h3>
          <label>Icon:</label>
          <select id="p1-icon">
            <option value="solo1.png">Cinnamoroll</option>
            <option value="solo2.jpg">Pochacco</option>
            <option value="solo3.jpg">Hello Kitty</option>
            <option value="solo4.jpg">Badtz-Maru</option>
            <option value="solo5.jpg">Keropi</option>
            <option value="solo6.jpg">My Sweet Piano</option>
            <option value="solo7.jpg">Pekkle</option>
            <option value="solo11.jfif">Charmander</option>
            <option value="solo12.jfif">Evee</option>
            <option value="solo13.jfif">Mew</option>
            <option value="solo14.jfif">Gastly</option>
            <option value="solo15.jfif">Togepi</option>
            <option value="solo16.jfif">Goda</option>
            <option value="solo17.jfif">Nobita</option>
            <option value="solo18.jfif">Shizuka</option>
            <option value="solo19.jfif">Doraemon</option>
            <option value="solo20.jfif">Dorami</option>
            <option value="solo21.jfif">Suneo</option>
          </select>
          <div class="upload-container">
            <input type="file" id="p1-upload" accept="image/*" class="file-input">
            <label for="p1-upload" class="upload-btn">
              <i class="fas fa-cloud-upload-alt"></i> Drag or upload an image
            </label>
            <div class="upload-preview" id="p1-preview"></div>
            <div class="upload-status" id="p1-icon-status"></div>
          </div>
        </div>
        <div class="player-section">
          <h3>Player 2</h3>
          <label>Icon:</label>
          <select id="p2-icon">
            <option value="solo1.png">Cinnamoroll</option>
            <option value="solo2.jpg">Pochacco</option>
            <option value="solo3.jpg">Hello Kitty</option>
            <option value="solo4.jpg">Badtz-Maru</option>
            <option value="solo5.jpg">Keropi</option>
            <option value="solo6.jpg">My Sweet Piano</option>
            <option value="solo7.jpg">Pekkle</option>
            <option value="solo11.jfif">Charmander</option>
            <option value="solo12.jfif">Evee</option>
            <option value="solo13.jfif">Mew</option>
            <option value="solo14.jfif">Gastly</option>
            <option value="solo15.jfif">Togepi</option>
            <option value="solo16.jfif">Goda</option>
            <option value="solo17.jfif">Nobita</option>
            <option value="solo18.jfif">Shizuka</option>
            <option value="solo19.jfif">Doraemon</option>
            <option value="solo20.jfif">Dorami</option>
            <option value="solo21.jfif">Suneo</option>
          </select>
          <div class="upload-container">
            <input type="file" id="p2-upload" accept="image/*" class="file-input">
            <label for="p2-upload" class="upload-btn">
              <i class="fas fa-cloud-upload-alt"></i> Drag or upload an image
            </label>
            <div class="upload-preview" id="p2-preview"></div>
            <div class="upload-status" id="p2-icon-status"></div>
          </div>
        </div>
      </div>

      <h2><i class="fas fa-palette"></i> Choose Card Faces</h2>
      <div class="player-icons-container">
        <div class="player-section">
          <h3>Player 1 Card Face</h3>
          <label>Card Face:</label>
          <select id="p1-select">
            <option value="solo1.png">Cinnamoroll</option>
            <option value="solo2.jpg">Pochacco</option>
            <option value="solo3.jpg">Hello Kitty</option>
            <option value="solo4.jpg">Badtz-Maru</option>
            <option value="solo5.jpg">Keropi</option>
            <option value="solo6.jpg">My Sweet Piano</option>
            <option value="solo7.jpg">Pekkle</option>
            <option value="solo8.jfif">Sasha</option>
            <option value="solo9.jfif">Jade</option>
            <option value="solo10.jfif">Yasmin</option>
            <option value="solo11.jfif">Charmander</option>
            <option value="solo12.jfif">Evee</option>
            <option value="solo13.jfif">Mew</option>
            <option value="solo14.jfif">Gastly</option>
            <option value="solo15.jfif">Togepi</option>
            <option value="solo16.jfif">Goda</option>
            <option value="solo17.jfif">Nobita</option>
            <option value="solo18.jfif">Shizuka</option>
            <option value="solo19.jfif">Doraemon</option>
            <option value="solo20.jfif">Dorami</option>
            <option value="solo21.jfif">Suneo</option>
          </select>
          <div class="upload-container">
            <input type="file" id="p1-card-upload" accept="image/*" class="file-input">
            <label for="p1-card-upload" class="upload-btn">
              <i class="fas fa-cloud-upload-alt"></i> Drag or upload an image
            </label>
            <div class="upload-preview" id="p1-card-preview"></div>
            <div class="upload-status" id="p1-card-status"></div>
          </div>
        </div>
        <div class="player-section">
          <h3>Player 2 Card Face</h3>
          <label>Card Face:</label>
          <select id="p2-select">
            <option value="solo1.png">Cinnamoroll</option>
            <option value="solo2.jpg">Pochacco</option>
            <option value="solo3.jpg">Hello Kitty</option>
            <option value="solo4.jpg">Badtz-Maru</option>
            <option value="solo5.jpg">Keropi</option>
            <option value="solo6.jpg">My Sweet Piano</option>
            <option value="solo7.jpg">Pekkle</option>
            <option value="solo8.jfif">Sasha</option>
            <option value="solo9.jfif">Jade</option>
            <option value="solo10.jfif">Yasmin</option>
            <option value="solo11.jfif">Charmander</option>
            <option value="solo12.jfif">Evee</option>
            <option value="solo13.jfif">Mew</option>
            <option value="solo14.jfif">Gastly</option>
            <option value="solo15.jfif">Togepi</option>
            <option value="solo16.jfif">Goda</option>
            <option value="solo17.jfif">Nobita</option>
            <option value="solo18.jfif">Shizuka</option>
            <option value="solo19.jfif">Doraemon</option>
            <option value="solo20.jfif">Dorami</option>
            <option value="solo21.jfif">Suneo</option>
          </select>
          <div class="upload-container">
            <input type="file" id="p2-card-upload" accept="image/*" class="file-input">
            <label for="p2-card-upload" class="upload-btn">
              <i class="fas fa-cloud-upload-alt"></i> Drag or upload an image
            </label>
            <div class="upload-preview" id="p2-card-preview"></div>
            <div class="upload-status" id="p2-card-status"></div>
          </div>
        </div>
      </div>

      <h2><i class="fas fa-image"></i> Choose Card Back</h2>
      <div class="card-back-container">
        <div class="player-section" style="max-width: 400px; margin: 0 auto;">
          <label>Card Back Design:</label>
          <select id="back-select" style="width: 100%;">
            <option value="back1.jpg">Kuromi</option>
            <option value="back2.png">My Melody</option>
            <option value="back3.png">Pompompurin</option>
            <option value="back4.jpg">Trio Sanrio</option>
            <option value="back5.jpg">All Sanrio Characters</option>
            <option value="back6.jfif">All Bratz Characters</option>
            <option value="back7.jfif">All Pokemon Characters</option>
            <option value="back8.jfif">All Pokemon Characters Ver 2</option>
            <option value="back9.jfif">All Doraemon Characters</option>
            <option value="back10.jfif">All Doraemon Characters Ver 2</option>
          </select>
          <div class="upload-container">
            <input type="file" id="back-upload" accept="image/*" class="file-input">
            <label for="back-upload" class="upload-btn">
              <i class="fas fa-cloud-upload-alt"></i> Drag or upload an image
            </label>
            <div class="upload-preview" id="back-preview"></div>
            <div class="upload-status" id="back-status"></div>
          </div>
        </div>
      </div>

      <div class="setup-actions">
        <button class="start-game-btn" onclick="playSound('click'); proceedToGameplay()">
          <i class="fas fa-play"></i> Start Game
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ========== SCREEN 4: GAMEPLAY PAGE ========== -->
<div id="gameplay-page" style="display:none;">
  <button class="back-to-setup control-btn" onclick="playSound('click'); showBackToSetupConfirmation()"><i class="fas fa-cog"></i> Back to Setup</button>
  <button class="exit-btn control-btn" onclick="playSound('click'); exitGame()">Exit</button>

  <h1 class="page-title"><i class="fas fa-gamepad"></i> Teks: Apiran Showdown</h1>

  <div class="gameplay-container">
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="game-area">
      <div class="player player1">
        <div class="player-name" id="p1-display">Player 1</div>
        <div class="hands" id="p1-hand"></div>
      </div>

      <div class="player player2">
        <div class="player-name" id="p2-display">Player 2</div>
        <div class="hands" id="p2-hand"></div>
      </div>

      <div class="card" id="card1">
        <div class="face front"></div>
        <div class="face back"></div>
      </div>

      <div class="card" id="card2">
        <div class="face front"></div>
        <div class="face back"></div>
      </div>

      <div class="result" id="resultText"></div>
      <div id="scoreboard">Player 1: 0 | Player 2: 0 | Round: 0/5</div>
    </div>

    <div class="toss-controls">
      <button id="tossBtn" onclick="playSound('click'); manualToss()">
        <i class="fas fa-hand-paper"></i> Toss Cards
      </button>
    </div>

    <div class="round-history">
      <h3><i class="fas fa-scroll"></i> Round History</h3>
      <div id="historyLog"></div>
    </div>
  </div>
</div>

<!-- Game End Overlay -->
<div class="game-end-overlay" id="gameEndOverlay">
  <div class="game-end-content">
    <h2><i class="fas fa-trophy"></i> Game Over!</h2>
    <p id="finalResultText"></p>
    <div class="game-end-buttons">
      <button class="game-end-btn continue-btn" onclick="playSound('click'); continueGame();">
        <i class="fas fa-forward"></i> Continue (Next Round)
      </button>
      <button class="game-end-btn reset-btn" onclick="playSound('click'); resetGameplay();">
        <i class="fas fa-redo"></i> Reset Game
      </button>
      <button class="game-end-btn new-game-btn" onclick="playSound('click'); createNewGame();">
        <i class="fas fa-plus-circle"></i> New Game
      </button>
      <button class="game-end-btn menu-btn-end" onclick="playSound('click'); returnToMenu();">
        <i class="fas fa-home"></i> Main Menu
      </button>
    </div>
  </div>
</div>

<!-- Audio Elements -->
<audio id="clickSound" preload="auto">
  <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZTR8M" type="audio/wav">
</audio>
<audio id="tossSound" preload="auto">
  <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZTR8M" type="audio/wav">
</audio>
<audio id="winSound" preload="auto">
  <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZTR8M" type="audio/wav">
</audio>

<script src="script.js"></script>

</body>
</html>